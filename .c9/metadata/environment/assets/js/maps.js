{"filter":false,"title":"maps.js","tooltip":"/assets/js/maps.js","undoManager":{"mark":34,"position":34,"stack":[[{"start":{"row":81,"column":5},"end":{"row":82,"column":0},"action":"insert","lines":["",""],"id":1},{"start":{"row":82,"column":0},"end":{"row":82,"column":4},"action":"insert","lines":["    "]}],[{"start":{"row":82,"column":4},"end":{"row":84,"column":1},"action":"insert","lines":[" //Runs searchPlaces function------------------------------------------","    searchPlaces();","}"],"id":2}],[{"start":{"row":60,"column":16},"end":{"row":60,"column":27},"action":"remove","lines":["#night-club"],"id":3},{"start":{"row":60,"column":16},"end":{"row":60,"column":26},"action":"insert","lines":["attraction"]}],[{"start":{"row":54,"column":3},"end":{"row":56,"column":5},"action":"remove","lines":[" else if ($('#store').hasClass('selected')) {","        placeType = ['store', 'shopping_mall'];","    }"],"id":4}],[{"start":{"row":54,"column":2},"end":{"row":54,"column":3},"action":"remove","lines":[" "],"id":5},{"start":{"row":54,"column":0},"end":{"row":54,"column":2},"action":"remove","lines":["  "]},{"start":{"row":53,"column":5},"end":{"row":54,"column":0},"action":"remove","lines":["",""]}],[{"start":{"row":78,"column":5},"end":{"row":79,"column":0},"action":"insert","lines":["",""],"id":6},{"start":{"row":79,"column":0},"end":{"row":79,"column":4},"action":"insert","lines":["    "]}],[{"start":{"row":79,"column":4},"end":{"row":81,"column":5},"action":"insert","lines":[" else if ($('#store').hasClass('selected')) {","        placeType = ['store', 'shopping_mall'];","    }"],"id":7}],[{"start":{"row":77,"column":21},"end":{"row":77,"column":26},"action":"remove","lines":["'zoo'"],"id":8}],[{"start":{"row":58,"column":33},"end":{"row":58,"column":34},"action":"insert","lines":[","],"id":9}],[{"start":{"row":58,"column":34},"end":{"row":58,"column":39},"action":"insert","lines":["'zoo'"],"id":10}],[{"start":{"row":73,"column":21},"end":{"row":73,"column":29},"action":"remove","lines":["'museum'"],"id":11}],[{"start":{"row":58,"column":39},"end":{"row":58,"column":40},"action":"insert","lines":[","],"id":12}],[{"start":{"row":58,"column":40},"end":{"row":58,"column":41},"action":"insert","lines":[" "],"id":13}],[{"start":{"row":58,"column":40},"end":{"row":58,"column":41},"action":"remove","lines":[" "],"id":14}],[{"start":{"row":58,"column":40},"end":{"row":58,"column":48},"action":"insert","lines":["'museum'"],"id":15}],[{"start":{"row":58,"column":48},"end":{"row":58,"column":49},"action":"insert","lines":[","],"id":16}],[{"start":{"row":72,"column":3},"end":{"row":73,"column":23},"action":"remove","lines":[" else if ($('#museum').hasClass('selected')) {","        placeType = [];"],"id":17},{"start":{"row":72,"column":2},"end":{"row":72,"column":3},"action":"remove","lines":[" "]},{"start":{"row":72,"column":0},"end":{"row":72,"column":2},"action":"remove","lines":["  "]}],[{"start":{"row":73,"column":1},"end":{"row":76,"column":23},"action":"remove","lines":["   }","","    else if ($('#zoo').hasClass('selected')) {","        placeType = [];"],"id":18},{"start":{"row":73,"column":0},"end":{"row":73,"column":1},"action":"remove","lines":[" "]},{"start":{"row":72,"column":0},"end":{"row":73,"column":0},"action":"remove","lines":["",""]}],[{"start":{"row":70,"column":21},"end":{"row":70,"column":37},"action":"remove","lines":["'amusement_park'"],"id":19}],[{"start":{"row":58,"column":49},"end":{"row":58,"column":65},"action":"insert","lines":["'amusement_park'"],"id":20}],[{"start":{"row":58,"column":65},"end":{"row":58,"column":66},"action":"insert","lines":[","],"id":21}],[{"start":{"row":63,"column":0},"end":{"row":65,"column":5},"action":"remove","lines":["    else if ($('#bowling').hasClass('selected')) {","        placeType = ['bowling_alley'];","    }"],"id":22},{"start":{"row":62,"column":5},"end":{"row":63,"column":0},"action":"remove","lines":["",""]}],[{"start":{"row":66,"column":0},"end":{"row":69,"column":0},"action":"remove","lines":["    else if ($('#amusement-park').hasClass('selected')) {","        placeType = [];","    }",""],"id":23},{"start":{"row":65,"column":5},"end":{"row":66,"column":0},"action":"remove","lines":["",""]},{"start":{"row":65,"column":4},"end":{"row":65,"column":5},"action":"remove","lines":["}"]},{"start":{"row":65,"column":2},"end":{"row":65,"column":4},"action":"remove","lines":["  "]}],[{"start":{"row":65,"column":0},"end":{"row":65,"column":2},"action":"remove","lines":["  "],"id":24},{"start":{"row":64,"column":29},"end":{"row":65,"column":0},"action":"remove","lines":["",""]}],[{"start":{"row":64,"column":21},"end":{"row":64,"column":27},"action":"remove","lines":["'park'"],"id":25}],[{"start":{"row":58,"column":66},"end":{"row":58,"column":72},"action":"insert","lines":["'park'"],"id":26}],[{"start":{"row":60,"column":1},"end":{"row":65,"column":5},"action":"remove","lines":["   else if ($('#casino').hasClass('selected')) {","        placeType = ['casino'];","    }","    else if ($('#park').hasClass('selected')) {","        placeType = [];","    }"],"id":27},{"start":{"row":60,"column":0},"end":{"row":60,"column":1},"action":"remove","lines":[" "]},{"start":{"row":59,"column":5},"end":{"row":60,"column":0},"action":"remove","lines":["",""]}],[{"start":{"row":65,"column":1},"end":{"row":66,"column":0},"action":"insert","lines":["",""],"id":28}],[{"start":{"row":66,"column":0},"end":{"row":124,"column":0},"action":"insert","lines":["","//Search places---------------------------------------------------------","function searchPlaces() {","    var search = {","        bounds: map.getBounds(),","        types: placeType","    };","    service.nearbySearch(search, function(results, status) {","        if (status === google.maps.places.PlacesServiceStatus.OK) {","            //Clear markers---------------------------------------------------","            clearMarkers();","            //Create markers----------------------------------------------------","            for (var i = 0; i < results.length; i++) {","                markers[i] = new google.maps.Marker({","                    position: results[i].geometry.location,","                    title: 'Information',","                });","                markers[i].placeResult = results[i];","                google.maps.event.addListener(markers[i], 'click', showInfoWindow); //Show info window when user clicks on a marker---","                setTimeout(placeMarkers(i), i * 60);","                /*This places the markers on the map one by one. This was inspired by Kim Peartonâ€™s ","                project Limitless for more information check the documentation credits section*/","            }","        }","        //If there are results, this displays an info window showing the amount of results to the user--------","        if (results[0]) {","            $('#count').text(results.length);","            $('#results').show();","            setTimeout(function() {","                $('#results').hide();","            }, 2000);","        }","        //If there are no results, this displays a no results info window------------","        if (!results[0]) {","            $('#noResults').show();","            setTimeout(function() {","                $('#noResults').hide();","            }, 2000);","        }","    });","}","","//Add markers to map----------------------------","function placeMarkers(i) {","    return function() {","        markers[i].setMap(map);","    };","}","","//Clear markers---------------------------------","function clearMarkers() {","    for (var i = 0; i < markers.length; i++) {","        if (markers[i]) {","            markers[i].setMap(null);","        }","    }","    markers = [];","}",""],"id":29}],[{"start":{"row":43,"column":1},"end":{"row":44,"column":0},"action":"insert","lines":["",""],"id":30},{"start":{"row":44,"column":0},"end":{"row":45,"column":0},"action":"insert","lines":["",""]}],[{"start":{"row":45,"column":0},"end":{"row":69,"column":0},"action":"insert","lines":["","    //Nearby establishment search by click---------------------------","    service = new google.maps.places.PlacesService(map);","    google.maps.event.addListener(map, 'click', function(event) {","","        //This checks to see if a place type has been selected----------------","        if ($('button').hasClass('selected')) {","            $('.search-container').slideUp(); //Hides search box when user clicks to search----------","            map.panTo(event.latLng);","            map.setZoom(15);","            clearMarkers(); //Clears markers when the user clicks------------","            filterResults(); //Runs filterResults------------ ","        }","        else {","            /*If a place type has not been selected then","            this shows a pop up that instructs user to select a place type*/","            $('#selectType').show();","            $('#places-btn').addClass('glow'); //Makes places button glow to show where the place type menu is---","            setTimeout(function() {","                $('#selectType').hide();","                $('#places-btn').removeClass('glow');","            }, 2500);","        }","    });",""],"id":31}],[{"start":{"row":21,"column":0},"end":{"row":21,"column":2},"action":"remove","lines":["  "],"id":32},{"start":{"row":20,"column":2},"end":{"row":21,"column":0},"action":"remove","lines":["",""]},{"start":{"row":20,"column":0},"end":{"row":20,"column":2},"action":"remove","lines":["  "]},{"start":{"row":19,"column":2},"end":{"row":20,"column":0},"action":"remove","lines":["",""]}],[{"start":{"row":35,"column":3},"end":{"row":35,"column":28},"action":"remove","lines":[" selectedType = 'lodging'"],"id":33},{"start":{"row":35,"column":2},"end":{"row":35,"column":3},"action":"remove","lines":[" "]},{"start":{"row":35,"column":0},"end":{"row":35,"column":2},"action":"remove","lines":["  "]},{"start":{"row":34,"column":20},"end":{"row":35,"column":0},"action":"remove","lines":["",""]}],[{"start":{"row":42,"column":0},"end":{"row":147,"column":0},"action":"remove","lines":["","    //Nearby establishment search by click---------------------------","    service = new google.maps.places.PlacesService(map);","    google.maps.event.addListener(map, 'click', function(event) {","","        //This checks to see if a place type has been selected----------------","        if ($('button').hasClass('selected')) {","            $('.search-container').slideUp(); //Hides search box when user clicks to search----------","            map.panTo(event.latLng);","            map.setZoom(15);","            clearMarkers(); //Clears markers when the user clicks------------","            filterResults(); //Runs filterResults------------ ","        }","        else {","            /*If a place type has not been selected then","            this shows a pop up that instructs user to select a place type*/","            $('#selectType').show();","            $('#places-btn').addClass('glow'); //Makes places button glow to show where the place type menu is---","            setTimeout(function() {","                $('#selectType').hide();","                $('#places-btn').removeClass('glow');","            }, 2500);","        }","    });","","","//Filter results----------------------------------------------","function filterResults() {","","    /*This checks which place type is selected","    before running the search places function*/","","    if ($('#accomodation').hasClass('selected')) {","        placeType = ['lodging'];","    }","    else if ($('#restaurant').hasClass('selected')) {","        placeType = ['restaurant', 'bar'];","    }","    else if ($('attraction').hasClass('selected')) {","        placeType = ['night_club','zoo','museum','amusement_park','park'];","    }","     else if ($('#store').hasClass('selected')) {","        placeType = ['store', 'shopping_mall'];","    }","     //Runs searchPlaces function------------------------------------------","    searchPlaces();","}","","//Search places---------------------------------------------------------","function searchPlaces() {","    var search = {","        bounds: map.getBounds(),","        types: placeType","    };","    service.nearbySearch(search, function(results, status) {","        if (status === google.maps.places.PlacesServiceStatus.OK) {","            //Clear markers---------------------------------------------------","            clearMarkers();","            //Create markers----------------------------------------------------","            for (var i = 0; i < results.length; i++) {","                markers[i] = new google.maps.Marker({","                    position: results[i].geometry.location,","                    title: 'Information',","                });","                markers[i].placeResult = results[i];","                google.maps.event.addListener(markers[i], 'click', showInfoWindow); //Show info window when user clicks on a marker---","                setTimeout(placeMarkers(i), i * 60);","                /*This places the markers on the map one by one. This was inspired by Kim Peartonâ€™s ","                project Limitless for more information check the documentation credits section*/","            }","        }","        //If there are results, this displays an info window showing the amount of results to the user--------","        if (results[0]) {","            $('#count').text(results.length);","            $('#results').show();","            setTimeout(function() {","                $('#results').hide();","            }, 2000);","        }","        //If there are no results, this displays a no results info window------------","        if (!results[0]) {","            $('#noResults').show();","            setTimeout(function() {","                $('#noResults').hide();","            }, 2000);","        }","    });","}","","//Add markers to map----------------------------","function placeMarkers(i) {","    return function() {","        markers[i].setMap(map);","    };","}","","//Clear markers---------------------------------","function clearMarkers() {","    for (var i = 0; i < markers.length; i++) {","        if (markers[i]) {","            markers[i].setMap(null);","        }","    }","    markers = [];","}",""],"id":34}],[{"start":{"row":44,"column":0},"end":{"row":81,"column":5},"action":"remove","lines":["","//Filter results----------------------------------------------","function filterResults() {","","    /*This checks which place type is selected","    before running the search places function*/","","    if ($('#accomodation').hasClass('selected')) {","        placeType = ['lodging'];","    }","    else if ($('#store').hasClass('selected')) {","        placeType = ['store', 'shopping_mall'];","    }","    else if ($('#restaurant').hasClass('selected')) {","        placeType = ['restaurant', 'bar'];","    }","    else if ($('#night-club').hasClass('selected')) {","        placeType = ['night_club'];","    }","    else if ($('#casino').hasClass('selected')) {","        placeType = ['casino'];","    }","    else if ($('#bowling').hasClass('selected')) {","        placeType = ['bowling_alley'];","    }","    else if ($('#park').hasClass('selected')) {","        placeType = ['park'];","    }","    else if ($('#amusement-park').hasClass('selected')) {","        placeType = ['amusement_park'];","    }","    else if ($('#museum').hasClass('selected')) {","        placeType = ['museum'];","    }","","    else if ($('#zoo').hasClass('selected')) {","        placeType = ['zoo'];","    }"],"id":35},{"start":{"row":43,"column":1},"end":{"row":44,"column":0},"action":"remove","lines":["",""]}]]},"ace":{"folds":[],"scrolltop":0,"scrollleft":0,"selection":{"start":{"row":43,"column":1},"end":{"row":43,"column":1},"isBackwards":false},"options":{"guessTabSize":true,"useWrapMode":false,"wrapToView":true},"firstLineState":{"row":79,"mode":"ace/mode/javascript"}},"timestamp":1573144510074,"hash":"884b11ace555121745aa7608c9ef289b53f30d2a"}